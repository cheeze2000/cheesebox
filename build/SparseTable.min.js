class SparseTable{#f;#xs;constructor(s,r){const a=r.length;var o=Math.floor(Math.log2(a));const l=[...Array(o+1)].map(r=>Array(a));l[0]=r.slice();for(let t=1;t<=o;t++){var h=1<<t-1;for(let r=0;r<=a-(h<<1);r++)l[t][r]=s(l[t-1][r],l[t-1][r+h])}this.#f=s,this.#xs=l}query(r,t){var s=this.#xs,a=Math.floor(Math.log2(t-r+1));return this.#f(s[a][r],s[a][t+1-(1<<a)])}}
